# 생년월일 컬럼 매핑 미동작 수정(columns/row 참조 + null 표시)

- 날짜/시간: 2026-01-24 20:06:25
- 작업 폴더: `/Users/dev/onlyT_test1`

## 사용자 프롬프트

생년월일 컬럼 매핑이 현재 작동하지 않는 문제를 수정한다.

요구사항:

1. 엑셀 업로드 API 응답에 모든 컬럼명을 columns 배열로 반환한다.
2. 프론트에서 columns 배열을 생년월일 select dropdown 옵션으로 렌더링한다.
3. 선택된 생년월일 컬럼명을 birthDateColumn state에 저장한다.
4. 테이블 row에서 row[birthDateColumn] 값을 생년월일로 표시한다.
5. birthDateColumn이 null이면 "생년월일(사용 안함)"을 표시한다.
6. 주민등록번호 컬럼 매핑 로직과 동일한 패턴으로 구현한다.
7. 선택 변경 시 즉시 테이블 데이터를 반응형으로 업데이트한다.

## AI 답변

- 백엔드
  - `POST /student-records/upload-excel`에서 파일이 비정상/없어도 `columns: []`를 항상 포함하도록 수정.
  - 업로드 성공 시에는 `columns`(모든 컬럼명)과 row 원본컬럼 데이터를 함께 내려 프론트에서 `row[birthDateColumn]` 접근이 가능.

- 프론트
  - 업로드 전/새로고침 후에도 dropdown이 비지 않도록 `GET /student-records/settings`로 서버 캐시(`excelHeaders`)를 선로드하여 `columns`에 반영.
  - `birthDateColumn`이 null이면 셀에 "생년월일(사용 안함)"을 표시.
  - 선택 변경은 state 갱신으로 즉시 리렌더되어 반응형 업데이트.
